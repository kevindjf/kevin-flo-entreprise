package com.snapyou;


import java.io.File;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.provider.MediaStore;
import android.view.View;


public class MainActivity extends Activity implements View.OnClickListener{

	String key = null;
	Bitmap photo = null;

	View _ajouterImage;

	public static final int CAPTURE_IMAGE_FULLSIZE_ACTIVITY_REQUEST_CODE = 1;
	private File _photoCamera;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		charger();
		remplir();
		ajouterListeners();
	}

	private void charger(){
		_ajouterImage = findViewById(R.id.ajouter_photo);
	}

	private void remplir(){

	}

	private void ajouterListeners(){
		_ajouterImage.setOnClickListener(this);
	}

	@Override
	public void onClick(View v) {

	}

	public void getPhotoFromCamera(){
		Intent intent = new Intent("android.media.action.IMAGE_CAPTURE");
		_photoCamera = new File(Environment.getExternalStorageDirectory()+File.separator + "image.jpg");
		intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(_photoCamera));
		startActivityForResult(intent, CAPTURE_IMAGE_FULLSIZE_ACTIVITY_REQUEST_CODE);
	}

	public void onActivityResult(int requestCode, int resultCode, Intent data) 
	{ 
		super.onActivityResult(requestCode, resultCode, data);

		if(resultCode == Activity.RESULT_OK){  
			switch(requestCode){
			case CAPTURE_IMAGE_FULLSIZE_ACTIVITY_REQUEST_CODE:

				if(_photoCamera != null && !_photoCamera.equals("")){
						photo = BitmapFactory.decodeFile(_photoCamera.getAbsolutePath());
				
					}
				}


				break;


			}
		}
	}
}